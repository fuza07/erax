<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Sozlamalar - Erax Sklad</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/themes.css">
</head>
<body>
    <div id="sidebar-placeholder"></div>
    
    <div class="main-content">
    <div class="container">
        <div class="header">
            <h1 data-uz="âš™ï¸ Sklad Sozlamalari" data-ru="âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑĞºĞ»Ğ°Ğ´Ğ°">âš™ï¸ Sklad Sozlamalari</h1>
            <a href="/" class="btn-secondary" data-uz="ğŸ  Bosh sahifa" data-ru="ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ">ğŸ  Bosh sahifa</a>
        </div>

        <div class="settings-card">
            <h2 data-uz="Funksiyalarni yoqish/o'chirish" data-ru="Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ/Ğ²Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸">Funksiyalarni yoqish/o'chirish</h2>
            <p class="settings-desc" data-uz="Skladingiz uchun kerakli funksiyalarni tanlang" data-ru="Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ ÑĞºĞ»Ğ°Ğ´Ğ°">Skladingiz uchun kerakli funksiyalarni tanlang</p>

            <div class="setting-item">
                <div class="setting-info">
                    <h3 data-uz="ğŸ“¸ Tovarlarga rasm qo'shish" data-ru="ğŸ“¸ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ„Ğ¾Ñ‚Ğ¾ Ğº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°Ğ¼">ğŸ“¸ Tovarlarga rasm qo'shish</h3>
                    <p data-uz="Har bir tovar uchun rasm yuklash imkoniyati" data-ru="Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ñ„Ğ¾Ñ‚Ğ¾ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°">Har bir tovar uchun rasm yuklash imkoniyati</p>
                </div>
                <label class="switch">
                    <input type="checkbox" id="enable_images">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <h3 data-uz="ğŸ“¦ Zakaz tizimi" data-ru="ğŸ“¦ Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²">ğŸ“¦ Zakaz tizimi</h3>
                    <p data-uz="Mijozlarga zakaz berish va qarzlarni boshqarish" data-ru="Ğ’Ñ‹Ğ´Ğ°Ñ‡Ğ° Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ² ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼ Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾Ğ»Ğ³Ğ°Ğ¼Ğ¸">Mijozlarga zakaz berish va qarzlarni boshqarish</p>
                </div>
                <label class="switch">
                    <input type="checkbox" id="enable_orders">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <h3 data-uz="ğŸ“Š Kirim-chiqim statistikasi" data-ru="ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°-Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ğ°">ğŸ“Š Kirim-chiqim statistikasi</h3>
                    <p data-uz="Kunlik, haftalik va oylik statistika va Excel export" data-ru="Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ°Ñ, ĞµĞ¶ĞµĞ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¸ ĞµĞ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² Excel">Kunlik, haftalik va oylik statistika va Excel export</p>
                </div>
                <label class="switch">
                    <input type="checkbox" id="enable_statistics">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <h3 data-uz="ğŸ’¬ Chat va bildirishnomalar" data-ru="ğŸ’¬ Ğ§Ğ°Ñ‚ Ğ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ">ğŸ’¬ Chat va bildirishnomalar</h3>
                    <p data-uz="Xodimlar o'rtasida chat va boss tomonidan bildirishnomalar" data-ru="Ğ§Ğ°Ñ‚ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸ Ğ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»Ñ">Xodimlar o'rtasida chat va boss tomonidan bildirishnomalar</p>
                </div>
                <label class="switch">
                    <input type="checkbox" id="enable_chat">
                    <span class="slider"></span>
                </label>
            </div>

            <button onclick="saveSettings()" class="btn-primary" data-uz="ğŸ’¾ Saqlash" data-ru="ğŸ’¾ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ">ğŸ’¾ Saqlash</button>
        </div>
    </div>

    </div>
    </div>
    
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/sidebar.js"></script>
    <script src="/static/js/snow.js"></script>
    <script>
        
        // Sozlamalarni yuklash
        fetch('/api/settings')
            .then(r => r.json())
            .then(data => {
                document.getElementById('enable_images').checked = data.enable_images;
                document.getElementById('enable_orders').checked = data.enable_orders;
                document.getElementById('enable_statistics').checked = data.enable_statistics;
                document.getElementById('enable_chat').checked = data.enable_chat;
                
                if (data.enable_orders) {
                    document.getElementById('orders-link').style.display = 'block';
                    document.getElementById('features-divider').style.display = 'block';
                }
            });

        function saveSettings() {
            const settings = {
                enable_images: document.getElementById('enable_images').checked ? 1 : 0,
                enable_orders: document.getElementById('enable_orders').checked ? 1 : 0,
                enable_statistics: document.getElementById('enable_statistics').checked ? 1 : 0,
                enable_chat: document.getElementById('enable_chat').checked ? 1 : 0
            };

            fetch('/api/settings', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(settings)
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    Utils.showToast('Sozlamalar saqlandi!', 'success');
                    setTimeout(() => window.location.href = '/', 1500);
                }
            });
        }
    </script>
</body>
</html>
